/* Minimal resets */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; background: #000; color: #fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

.app { display: flex; flex-direction: column; min-height: 100%; }

.hud { display: flex; justify-content: space-between; align-items: center; padding: 8px 12px; background: #111; border-bottom: 1px solid #222; gap: 12px; }
.hud-center{ display:flex; flex-direction:row; align-items:center; justify-content:center; gap:12px; flex:1 }
.hud-center img{ height:64px; object-fit:contain; filter: drop-shadow(0 0 2px rgba(255,46,70,.5)); }
.hud-center .blurb{ max-width:680px; text-align:left; font-size:13px; color:#cfcfcf; line-height:1.35 }
@media (max-width: 900px){ .hud-center .blurb{ display:none } }
.hud .label { color: #9cf; margin-right: 8px; }
.hud-left { display: grid; grid-template-columns: auto auto; gap: 6px 16px; align-items: center; }
.hud-row { display: contents; }
.hud-right { display: flex; gap: 8px; }
.btn { background: #223; color: #fff; border: 1px solid #335; padding: 6px 10px; border-radius: 4px; cursor: pointer; }
.btn:active { transform: translateY(1px); }

.main { flex: 1; display: grid; grid-template-columns: 1fr; grid-auto-rows: 1fr; }
.stage-wrap { position: relative; display: flex; align-items: center; justify-content: center; padding: 8px; }

/* Canvas scaling: keep 16:9 within available area */
canvas#game { display: block; width: 100%; height: auto; max-height: calc(100vh - 120px); background: #000; image-rendering: pixelated; image-rendering: crisp-edges; }

/* Right panel (shown on wide screens) */
.panel { display: none; padding: 12px; border-left: 1px solid #222; background: #0a0a0a; }
.panel h2 { margin: 0 0 8px 0; }
.panel .btn { width: 100%; margin-top: 8px; }

@media (min-aspect-ratio: 16/9) and (min-width: 900px) {
  .main { grid-template-columns: minmax(0, 1fr) 320px; }
  .panel { display: block; }
  .stage-wrap { justify-content: flex-start; }
  canvas#game { width: 100%; height: auto; }
}

/* Touch controls overlay: shown on narrow/portrait without keyboard */
.touch-controls { position: absolute; inset: 0; pointer-events: none; }
.pad { position: absolute; left: 12px; bottom: 12px; width: 140px; height: 140px; pointer-events: auto; }
.pad-btn { position: absolute; width: 48px; height: 48px; background: rgba(60, 60, 100, 0.6); border: 1px solid rgba(180, 200, 255, 0.5); border-radius: 8px; }
.pad-btn:active { background: rgba(120, 120, 200, 0.8); }
.pad-btn.up { left: 46px; top: 0; }
.pad-btn.down { left: 46px; bottom: 0; }
.pad-btn.left { left: 0; top: 46px; }
.pad-btn.right { right: 0; top: 46px; }

/* Lives icons (drawn into inline elements) */
#lives { display: inline-flex; gap: 6px; }
#lives .life { width: 16px; height: 16px; background: radial-gradient(circle at 60% 40%, #ffd800 50%, #ccac00 52%); border-radius: 50%; position: relative; }
#lives .life::after { content: ""; position: absolute; left: 50%; top: 50%; width: 8px; height: 8px; background: #000; transform: translate(-10px, -10px); border-radius: 50% 0 50% 50%; }

/* Utility */
.hidden { display: none !important; }

.legend-item{display:inline-flex;align-items:center;gap:4px;margin-right:8px}
.legend-swatch{width:12px;height:12px;border-radius:2px;display:inline-block}
.legend-name{font-size:12px;color:#ddd}


